<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">
    <title>ADM | Listado de viajes</title>
</head>

{{>navbar}}

<body>
    <div class="listadoDeViajes">
        <table id="myTable" class="display">
            <thead>
                <tr>
                    <th>Empresa</th>
                    <th>Solicitante</th>
                    <th>Fecha</th>
                    <th>Destino/s</th>
                    <th>Localidad/es</th>
                    <th>Lluvia</th>
                    <th>Bulto</th>
                    <th>Demora</th>
                    <th>Regreso</th>
                    <th>Cadete/s</th>
                    <th>Detalle en $</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {{#each viajes}}
                <tr>
                    <td>{{this.empresaNombre}}</td>
                    <td>{{this.nombreDelSolicitante}}</td>
                    <td>{{this.fecha_string}}</td>
                    <td>{{this.destino0}}</td>
                    <td>{{this.localidad0}}</td>
                    <td>{{this.conLluvia}}</td>
                    <td>{{this.conBulto}}</td>
                    <td>{{this.conDemora}}</td>
                    <td>{{this.conRegreso}}</td>
                    <td>{{this.cadete}}</td>
                    <td>{{this.subTotal}}</td>
                    <td>${{this.total}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
    crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.15.1/xlsx.core.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
<script>
    $(document).ready(function () {
        var table = $('#myTable').DataTable({
            dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'excelHtml5',
                    title: `Viajes ${new Date().toLocaleDateString('es-AR')}`,
                    exportOptions: {
                        modifier: {
                            page: 'current'
                        }
                    }
                },
                {
                    extend: 'excelHtml5',
                    title: `Viajes Completo ${new Date().toLocaleDateString('es-AR')}`,
                    text: 'Excel completo'
                },
                {
                    extend: 'print',
                    title: `Viajes ${new Date().toLocaleDateString('es-AR')}`,
                    text: 'Imprimir',
                    exportOptions: {
                        columns: ':visible'
                    }
                }
            ],
        });

    });


</script>

<script>
    const listadoDeViajes = document.querySelector('.listadoDeViajes');
    const table = document.querySelector('table');
    const thead = document.querySelector('thead');
    const tbody = document.querySelector('tbody');
    const tr = document.querySelectorAll('tr');
    const th = document.querySelectorAll('th');
    const td = document.querySelectorAll('td');
    const form = document.querySelector('form');
    const input = document.querySelector('input');




    th.forEach((th) => {
        th.style.border = '1px solid black';
        th.style.padding = '30px';
    });

    td.forEach((td) => {
        td.style.border = '1px solid black';
        td.style.padding = '10px';
    });



</script>

</html>